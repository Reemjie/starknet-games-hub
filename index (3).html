<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StarkGames Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="shared.js"></script>
  <style>
    /* Override: carousel must be the first thing seen, no padding-top offset issues */
    body { padding-top: 64px !important; }

    /* ‚îÄ‚îÄ CAROUSEL ‚îÄ‚îÄ */
    #carousel-section { width: 100%; background: #000; }
    .c-wrap { position: relative; overflow: hidden; width: 100%; background: #0d0d14; }
    .c-track { display: flex; transition: transform 0.5s ease-in-out; }
    .c-slide { position: relative; flex: 0 0 100%; width: 100%; }
    .c-slide img { width: 100%; height: 440px; object-fit: cover; display: block; }
    @media(max-width:640px){ .c-slide img { height: 260px; } }
    .c-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.92) 0%, rgba(0,0,0,0.35) 55%, transparent 100%); }
    .c-content { position: absolute; bottom: 0; left: 0; right: 0; padding: 28px 36px; }
    @media(max-width:640px){ .c-content { padding: 16px 18px; } }
    .c-btn { position: absolute; top: 50%; transform: translateY(-50%); z-index: 10; width: 42px; height: 42px; border-radius: 50%; background: rgba(236,121,107,0.85); border: none; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; backdrop-filter: blur(6px); }
    .c-btn:hover { background: #EC796B; transform: translateY(-50%) scale(1.08); }
    .c-dots { display: flex; justify-content: center; gap: 8px; padding: 12px 0; background: #0A0A0F; }
    .c-dot { width: 10px; height: 10px; border-radius: 5px; background: rgba(255,255,255,0.25); cursor: pointer; transition: all 0.3s; border: none; }
    .c-dot.active { background: #EC796B; width: 28px; }
    .status-badge { display: inline-block; padding: 3px 10px; border-radius: 999px; font-family: 'Orbitron', sans-serif; font-size: 10px; font-weight: 700; }

    /* ‚îÄ‚îÄ BANNER ‚îÄ‚îÄ */
    #banner-section { overflow: hidden; height: 44px; background: #13131A; border-top: 1px solid #1F1F28; border-bottom: 1px solid #1F1F28; display: flex; align-items: center; }
    .b-track { display: flex; white-space: nowrap; animation: bmarquee 35s linear infinite; }
    @keyframes bmarquee { from { transform: translateX(0); } to { transform: translateX(-50%); } }
    .b-item { display: inline-flex; align-items: center; gap: 10px; padding: 0 28px; font-size: 13px; color: rgba(255,255,255,0.7); text-decoration: none; flex-shrink: 0; transition: color 0.2s; }
    .b-item:hover { color: white; }

    /* ‚îÄ‚îÄ CONTENT ‚îÄ‚îÄ */
    .page-wrap { max-width: 1280px; margin: 0 auto; padding: 48px 20px 80px; }
    .section-title { font-family: 'Orbitron', sans-serif; font-size: 22px; font-weight: 800; color: white; margin: 0; }
    .section-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 22px; flex-wrap: wrap; gap: 10px; }
    .view-all { color: rgba(236,121,107,0.8); font-size: 12px; font-weight: 700; text-decoration: none; font-family: 'Orbitron', sans-serif; letter-spacing: 0.5px; }
    .view-all:hover { color: #EC796B; }

    /* ‚îÄ‚îÄ STAT CARDS ‚îÄ‚îÄ */
    .stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; margin-bottom: 56px; }
    @media(max-width:640px){ .stats-row { grid-template-columns: repeat(2,1fr); } }
    .stat-card { background: #13131A; border: 1px solid #1F1F28; border-radius: 14px; padding: 18px 20px; text-align: center; }
    .stat-n { font-family: 'Orbitron', sans-serif; font-size: 26px; font-weight: 900; line-height: 1; }
    .stat-l { font-family: 'Orbitron', sans-serif; font-size: 9px; color: rgba(255,255,255,0.3); letter-spacing: 1.5px; text-transform: uppercase; margin-top: 6px; }

    /* ‚îÄ‚îÄ GAME CARDS ‚îÄ‚îÄ */
    .games-row { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 14px; margin-bottom: 56px; }
    @media(max-width:480px){ .games-row { grid-template-columns: repeat(2,1fr); } }
    .g-card { border-radius: 14px; overflow: hidden; background: #13131A; border: 1px solid #1F1F28; transition: all 0.3s; text-decoration: none; display: block; }
    .g-card:hover { border-color: #EC796B; transform: translateY(-4px); box-shadow: 0 14px 36px rgba(236,121,107,0.15); }
    .g-card img { width: 100%; height: 170px; object-fit: cover; display: block; transition: transform 0.5s; }
    .g-card:hover img { transform: scale(1.05); }

    /* ‚îÄ‚îÄ TOURNAMENT MINI ‚îÄ‚îÄ */
    .t-row { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 12px; margin-bottom: 56px; }
    .t-mini { background: #13131A; border: 1px solid #1F1F28; border-radius: 12px; padding: 14px 16px; display: flex; align-items: center; gap: 12px; transition: all 0.2s; text-decoration: none; }
    .t-mini:hover { border-color: rgba(236,121,107,0.4); background: #1A1A24; }
    .live-pill { display: inline-flex; align-items: center; gap: 4px; padding: 2px 8px; border-radius: 999px; background: rgba(34,197,94,0.15); border: 1px solid rgba(34,197,94,0.35); color: #22c55e; font-family: 'Orbitron', sans-serif; font-size: 9px; font-weight: 700; }
    .live-dot { width: 5px; height: 5px; border-radius: 50%; background: #22c55e; animation: ldot 1.5s infinite; flex-shrink: 0; }
    @keyframes ldot { 0%,100%{opacity:1} 50%{opacity:0.3} }

    /* ‚îÄ‚îÄ QUICK ACTIONS ‚îÄ‚îÄ */
    .qa-row { display: grid; grid-template-columns: repeat(3,1fr); gap: 14px; }
    @media(max-width:640px){ .qa-row { grid-template-columns: 1fr; } }
    .qa-card { padding: 26px; border-radius: 16px; text-decoration: none; display: block; transition: all 0.3s; }
    .qa-card:hover { transform: translateY(-3px); }
  </style>
</head>
<body>

<!-- ‚ïê‚ïê 1. HERO BANNER IMAGE ‚ïê‚ïê -->
<div id="hero-banner" style="width:100%;height:180px;position:relative;overflow:hidden;background:#0d0d14;">
  <img src="https://res.cloudinary.com/dtqbnob94/image/upload/v1770988983/ChatGPT_Image_13_fe%CC%81vr._2026_14_08_03_ljmmnl.png" alt="" style="width:100%;height:100%;object-fit:cover;display:block;">
  <div style="position:absolute;inset:0;background:linear-gradient(to bottom,rgba(10,10,15,0.1) 0%,rgba(10,10,15,0.5) 100%);"></div>
</div>

<!-- ‚ïê‚ïê 2. SCROLLING X TICKER ‚ïê‚ïê -->
<section id="banner-section" style="display:block;">
  <div class="b-track" id="bTrack"></div>
</section>

<!-- ‚ïê‚ïê 3. CAROUSEL ‚ïê‚ïê -->
<section id="carousel-section" style="width:100%;">
  <div class="c-wrap" id="cWrap">
    <div class="c-track" id="cTrack"></div>
    <button class="c-btn" style="left:14px;" onclick="moveC(-1)">
      <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"/></svg>
    </button>
    <button class="c-btn" style="right:14px;" onclick="moveC(1)">
      <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"/></svg>
    </button>
  </div>
  <div class="c-dots" id="cDots"></div>
</section>

<!-- ‚ïê‚ïê MAIN CONTENT ‚ïê‚ïê -->
<div class="page-wrap">

  <!-- STATS -->
  <div class="stats-row">
    <div class="stat-card"><div class="stat-n" style="background:linear-gradient(135deg,#EC796B,#5C5ADB);-webkit-background-clip:text;-webkit-text-fill-color:transparent;">28M+</div><div class="stat-l">Total TXs</div></div>
    <div class="stat-card"><div class="stat-n" style="color:#22c55e;">8</div><div class="stat-l">Live Games</div></div>
    <div class="stat-card"><div class="stat-n" style="color:#F4C542;" id="statTourneys">‚Äî</div><div class="stat-l">Tournaments Live</div></div>
    <div class="stat-card"><div class="stat-n" style="color:#5C5ADB;">4k+</div><div class="stat-l">Active Players</div></div>
  </div>

  <!-- FEATURED GAMES -->
  <div style="margin-bottom:56px;">
    <div class="section-header">
      <div>
        <div class="section-badge" style="margin-bottom:8px;display:inline-flex;">‚≠ê Featured</div>
        <h2 class="section-title">Top Games</h2>
      </div>
      <a href="games.html" class="view-all">View all ‚Üí</a>
    </div>
    <div class="games-row" id="featuredGames"></div>
  </div>

  <!-- LIVE TOURNAMENTS -->
  <div style="margin-bottom:56px;">
    <div class="section-header">
      <div>
        <div class="section-badge" style="margin-bottom:8px;display:inline-flex;border-color:rgba(34,197,94,0.4);background:rgba(34,197,94,0.08);color:#22c55e;">
          <span class="live-dot"></span>&nbsp;Live Now
        </div>
        <h2 class="section-title">Active Tournaments</h2>
      </div>
      <a href="tournaments.html" class="view-all">All tournaments ‚Üí</a>
    </div>
    <div class="t-row" id="liveTourneys"></div>
  </div>

  <!-- QUICK ACTIONS -->
  <div class="qa-row">
    <a href="profile.html" class="qa-card" style="background:linear-gradient(135deg,rgba(92,90,219,0.08),rgba(0,0,0,0));border:1px solid rgba(92,90,219,0.22);" onmouseenter="this.style.borderColor='rgba(92,90,219,0.55)'" onmouseleave="this.style.borderColor='rgba(92,90,219,0.22)'">
      <div style="font-size:28px;margin-bottom:10px;">‚óà</div>
      <h3 style="font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700;color:white;margin:0 0 6px;">Player Profile</h3>
      <p style="color:rgba(255,255,255,0.35);font-size:13px;margin:0;line-height:1.5;">Cross-game stats from your wallet.</p>
    </a>
    <a href="games.html" class="qa-card" style="background:linear-gradient(135deg,rgba(236,121,107,0.08),rgba(0,0,0,0));border:1px solid rgba(236,121,107,0.22);" onmouseenter="this.style.borderColor='rgba(236,121,107,0.55)'" onmouseleave="this.style.borderColor='rgba(236,121,107,0.22)'">
      <div style="font-size:28px;margin-bottom:10px;">üìä</div>
      <h3 style="font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700;color:white;margin:0 0 6px;">Compare Games</h3>
      <p style="color:rgba(255,255,255,0.35);font-size:13px;margin:0;line-height:1.5;">Side-by-side stats for all games.</p>
    </a>
    <a href="learn.html" class="qa-card" style="background:linear-gradient(135deg,rgba(34,197,94,0.08),rgba(0,0,0,0));border:1px solid rgba(34,197,94,0.22);" onmouseenter="this.style.borderColor='rgba(34,197,94,0.55)'" onmouseleave="this.style.borderColor='rgba(34,197,94,0.22)'">
      <div style="font-size:28px;margin-bottom:10px;">‚ö°</div>
      <h3 style="font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700;color:white;margin:0 0 6px;">New to Web3?</h3>
      <p style="color:rgba(255,255,255,0.35);font-size:13px;margin:0;line-height:1.5;">Wallet, STRK, first game ‚Äî 3 steps.</p>
    </a>
  </div>

</div>

<script>
var _ci = 0, _ct = 0, _autoTimer = null;

function moveC(dir) {
  if (_ct === 0) return;
  _ci = (_ci + dir + _ct) % _ct;
  document.getElementById('cTrack').style.transform = 'translateX(-' + (_ci * 100) + '%)';
  document.querySelectorAll('.c-dot').forEach(function(d, i) {
    d.classList.toggle('active', i === _ci);
  });
}
function goC(i) { _ci = i; document.getElementById("cTrack").style.transform = "translateX(-" + (_ci * 100) + "%)"; document.querySelectorAll(".c-dot").forEach(function(d,j){d.classList.toggle("active",j===_ci);}); }

var _ts = 0;
document.addEventListener('touchstart', function(e) { _ts = e.changedTouches[0].screenX; });
document.addEventListener('touchend', function(e) {
  var dx = e.changedTouches[0].screenX - _ts;
  if (dx < -50) moveC(1);
  if (dx > 50) moveC(-1);
});

function startAuto() {
  _autoTimer = setInterval(function() { if (_ct > 1) moveC(1); }, 5500);
}

var SC = { live:'#22c55e', soon:'#F4C542', ended:'#888' };

loadSiteData().then(function(D) {

  /* ‚îÄ‚îÄ HERO BANNER: static image hardcoded in HTML ‚îÄ‚îÄ */

  /* ‚îÄ‚îÄ CAROUSEL ‚îÄ‚îÄ */
  var slides = (D.carousel || []).filter(function(c) { return c.active; });
  _ct = slides.length;
  var trackHTML = '';
  slides.forEach(function(c) {
    var sc = SC[c.status] || '#22c55e';
    trackHTML += '<div class="c-slide">';
    trackHTML +=   '<img src="' + c.img + '" alt="' + c.title + '">';
    trackHTML +=   '<div class="c-overlay"></div>';
    trackHTML +=   '<div class="c-content">';
    trackHTML +=     '<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">';
    trackHTML +=       '<span class="status-badge" style="background:' + sc + '22;border:1px solid ' + sc + '55;color:' + sc + ';">' + (c.status || 'LIVE').toUpperCase() + '</span>';
    trackHTML +=       '<span style="color:#EC796B;font-family:Orbitron,sans-serif;font-size:11px;font-weight:700;">' + c.label + '</span>';
    trackHTML +=       '<span style="color:rgba(255,255,255,0.35);font-size:12px;">' + c.date + '</span>';
    trackHTML +=     '</div>';
    trackHTML +=     '<h3 style="font-family:Orbitron,sans-serif;font-size:clamp(16px,3vw,28px);font-weight:900;color:white;margin:0 0 8px;">' + c.title + '</h3>';
    trackHTML +=     '<p style="color:rgba(255,255,255,0.75);font-size:clamp(12px,1.8vw,15px);margin:0 0 16px;max-width:580px;">' + c.subtitle + '</p>';
    trackHTML +=     '<a href="' + c.url + '" target="_blank" class="btn-primary" style="display:inline-flex;">Discover ‚Üí</a>';
    trackHTML +=   '</div>';
    trackHTML += '</div>';
  });
  document.getElementById('cTrack').innerHTML = trackHTML;

  var dotsHTML = '';
  slides.forEach(function(_, i) {
    dotsHTML += '<button class="c-dot' + (i === 0 ? ' active' : '') + '" onclick="goC(' + (i+1) + ')"></button>';
  });
  document.getElementById('cDots').innerHTML = dotsHTML;
  startAuto();

  /* ‚îÄ‚îÄ BANNER ‚îÄ‚îÄ */
  var bItems = (D.banner || []).filter(function(b) { return b.active; });
  if (bItems.length > 0) {
    var doubled = bItems.concat(bItems);
    var bHTML = '';
    doubled.forEach(function(b) {
      bHTML += '<a href="' + b.url + '" target="_blank" class="b-item">';
      bHTML +=   '<svg style="width:13px;height:13px;color:#EC796B;flex-shrink:0;" fill="currentColor" viewBox="0 0 24 24"><path d="M18.9 2H22l-6.6 7.5L23 22h-6.7l-5.2-6.7L5 22H2l7.1-8.2L1 2h6.8l4.7 6.1L18.9 2z"/></svg>';
      bHTML +=   '<strong style="color:#EC796B;">' + b.author + '</strong>';
      bHTML +=   '<span>' + b.text + '</span>';
      bHTML +=   '<span style="color:rgba(255,255,255,0.15);margin-left:6px;">¬∑</span>';
      bHTML += '</a>';
    });
    document.getElementById('bTrack').innerHTML = bHTML;
  }

  /* ‚îÄ‚îÄ FEATURED GAMES ‚îÄ‚îÄ */
  var games = (D.games || []).filter(function(g) { return g.active && g.featured; }).slice(0, 6);
  var gHTML = '';
  games.forEach(function(g) {
    var tagsHTML = '';
    (g.tags || []).slice(0, 2).forEach(function(t) {
      tagsHTML += '<span style="padding:1px 7px;border-radius:4px;background:rgba(255,255,255,0.07);color:rgba(255,255,255,0.5);font-size:10px;">' + t + '</span>';
    });
    gHTML += '<a href="' + g.url + '" target="_blank" class="g-card">';
    gHTML +=   '<img src="' + g.img + '" alt="' + g.name + '">';
    gHTML +=   '<div style="padding:12px 14px;">';
    gHTML +=     '<h4 style="font-family:Orbitron,sans-serif;font-size:11px;font-weight:700;color:white;margin:0 0 5px;">' + g.name + '</h4>';
    gHTML +=     '<div style="display:flex;flex-wrap:wrap;gap:3px;">' + tagsHTML + '</div>';
    gHTML +=   '</div>';
    gHTML += '</a>';
  });
  document.getElementById('featuredGames').innerHTML = gHTML || '<p style="color:rgba(255,255,255,0.2);">No games configured.</p>';

  /* ‚îÄ‚îÄ LIVE TOURNAMENTS ‚îÄ‚îÄ */
  var tours = (D.tournaments || []).filter(function(t) { return t.active && t.status === 'live'; });
  document.getElementById('statTourneys').textContent = tours.length || '0';
  var tHTML = '';
  tours.slice(0, 3).forEach(function(t) {
    var col = t.color || '#EC796B';
    tHTML += '<a href="' + t.url + '" target="_blank" class="t-mini">';
    tHTML +=   '<img src="' + t.gameImg + '" style="width:42px;height:42px;border-radius:10px;object-fit:cover;border:1px solid ' + col + '40;flex-shrink:0;" alt="">';
    tHTML +=   '<div style="flex:1;min-width:0;">';
    tHTML +=     '<div style="font-weight:700;font-size:14px;color:white;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">' + t.name + '</div>';
    tHTML +=     '<div style="font-size:11px;color:rgba(255,255,255,0.35);margin-top:2px;">' + t.game + ' ¬∑ ' + (t.players||0) + '/' + (t.maxPlayers||'?') + ' players</div>';
    tHTML +=   '</div>';
    tHTML +=   '<div style="text-align:right;flex-shrink:0;">';
    tHTML +=     '<div style="font-family:Share Tech Mono,monospace;font-size:12px;color:' + col + ';font-weight:700;">' + t.prize + '</div>';
    tHTML +=     '<div class="live-pill" style="margin-top:5px;"><span class="live-dot"></span>LIVE</div>';
    tHTML +=   '</div>';
    tHTML += '</a>';
  });
  if (!tHTML) tHTML = '<p style="color:rgba(255,255,255,0.2);font-size:13px;font-family:Orbitron,sans-serif;letter-spacing:1px;padding:10px 0;">NO LIVE TOURNAMENTS RIGHT NOW</p>';
  document.getElementById('liveTourneys').innerHTML = tHTML;

});
</script>
</body>
</html>
