<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Games ‚Äî StarkGames Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="shared.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    .mono { font-family: 'Share Tech Mono', monospace; }
    .scanlines::after { content:'';position:absolute;inset:0;background:repeating-linear-gradient(to bottom,transparent 0,transparent 3px,rgba(0,0,0,0.07) 3px,rgba(0,0,0,0.07) 4px);pointer-events:none;z-index:1;border-radius:inherit; }
    .rank-bar { height:6px;border-radius:3px;transition:width 1.2s cubic-bezier(0.16,1,0.3,1);width:0; }
    .rank-bar.animated { width:var(--bar-w); }
    .metrics-tab { position:relative;transition:all 0.2s; }
    .metrics-tab.active { color:white; }
    .metrics-tab.active::after { content:'';position:absolute;bottom:-2px;left:0;right:0;height:2px;border-radius:2px;background:var(--tab-color,#EC796B); }
    .game-row { transition:all 0.2s;cursor:pointer; }
    .game-row:hover { background:rgba(255,255,255,0.03); }
    .sort-btn { cursor:pointer;user-select:none; }
    .sort-btn:hover { color:white; }
    .sort-btn.active { color:#EC796B; }
    .badge-pill { display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:999px;font-size:10px;font-weight:600;white-space:nowrap; }
    .filter-btn { padding:5px 14px;border-radius:8px;font-size:11px;font-weight:600;border:1px solid rgba(255,255,255,0.08);color:rgba(255,255,255,0.4);background:transparent;cursor:pointer;transition:all 0.2s;white-space:nowrap;font-family:'Orbitron',sans-serif;letter-spacing:0.5px; }
    .filter-btn:hover { border-color:rgba(255,255,255,0.2);color:rgba(255,255,255,0.7); }
    .filter-btn.active { border-color:#EC796B;color:white;background:rgba(236,121,107,0.15); }
    .compare-toggle { width:18px;height:18px;border:1.5px solid rgba(255,255,255,0.2);border-radius:4px;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;justify-content:center;flex-shrink:0; }
    .compare-toggle.checked { background:#EC796B;border-color:#EC796B; }
    #compare-bar { position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(80px);transition:transform 0.4s cubic-bezier(0.16,1,0.3,1);z-index:100;white-space:nowrap; }
    #compare-bar.visible { transform:translateX(-50%) translateY(0); }
    .sparkline { display:flex;align-items:flex-end;gap:2px;height:20px; }
    .spark-bar { width:4px;border-radius:2px 2px 0 0;background:rgba(92,90,219,0.4); }
    .spark-bar.high { background:#5C5ADB; }
    .spark-bar.peak { background:#EC796B; }
    #compare-modal { display:none;position:fixed;inset:0;z-index:200;background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);align-items:center;justify-content:center;padding:16px; }
    #compare-modal.open { display:flex; }
    .game-card-hover { position:relative;border-radius:14px;overflow:hidden;background:#13131A;border:1px solid #1F1F28;transition:all 0.3s; }
    .game-card-hover:hover { border-color:#EC796B;transform:translateY(-4px);box-shadow:0 16px 48px rgba(236,121,107,0.15); }
    @media(max-width:768px){.hide-mobile{display:none;}.metrics-scroll{overflow-x:auto;}}
  </style>
</head>
<body>

<div style="max-width:1280px;margin:0 auto;padding:40px 20px 80px;">

  <!-- PAGE HEADER -->
  <div style="margin-bottom:48px;">
    <span class="section-badge" style="margin-bottom:12px;display:inline-flex;">üéÆ All Games</span>
    <h1 style="font-family:'Orbitron',sans-serif;font-size:clamp(28px,5vw,42px);font-weight:900;color:white;margin:0 0 8px;">Starknet <span class="gradient-text">Game Library</span></h1>
    <p style="color:rgba(255,255,255,0.4);font-size:16px;margin:0;">Compare, explore guides, and find your next on-chain adventure.</p>
  </div>

  <!-- ‚îÄ‚îÄ GAMES GRID ‚îÄ‚îÄ -->
  <section style="margin-bottom:80px;">
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;" id="games-grid"></div>
  </section>

  <!-- ‚îÄ‚îÄ COMPARATOR ‚îÄ‚îÄ -->
  <section id="comparator" style="margin-bottom:80px;">
    <div style="text-align:center;margin-bottom:36px;">
      <span class="section-badge" style="margin-bottom:12px;display:inline-flex;">üìä Compare</span>
      <h2 style="font-family:'Orbitron',sans-serif;font-size:clamp(24px,4vw,36px);font-weight:900;color:white;margin:0 0 8px;">Games <span class="gradient-text">Comparison</span></h2>
      <p style="color:rgba(255,255,255,0.35);font-size:14px;margin:0;">Check 2 games to compare them side by side</p>
    </div>

    <div style="display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:12px;margin-bottom:20px;">
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button class="filter-btn active" onclick="filterGames('all',this)">All</button>
        <button class="filter-btn" onclick="filterGames('pvp',this)">PvP</button>
        <button class="filter-btn" onclick="filterGames('pve',this)">PvE</button>
        <button class="filter-btn" onclick="filterGames('strategy',this)">Strategy</button>
        <button class="filter-btn" onclick="filterGames('card',this)">Cards</button>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:2px;margin-bottom:0;border-bottom:1px solid #1F1F28;padding-bottom:0;">
      <button class="metrics-tab active px-4 py-2.5 text-sm font-semibold text-white/60 hover:text-white transition" style="--tab-color:#EC796B;background:transparent;border:none;cursor:pointer;color:rgba(255,255,255,0.5);padding:10px 18px;font-family:'Rajdhani',sans-serif;font-weight:600;font-size:14px;" onclick="switchView('leaderboard',this)">üèÜ Leaderboard</button>
      <button class="metrics-tab px-4 py-2.5 text-sm font-semibold text-white/60 hover:text-white transition" style="--tab-color:#5C5ADB;background:transparent;border:none;cursor:pointer;color:rgba(255,255,255,0.5);padding:10px 18px;font-family:'Rajdhani',sans-serif;font-weight:600;font-size:14px;" onclick="switchView('table',this)">üìä Table</button>
      <button class="metrics-tab px-4 py-2.5 text-sm font-semibold text-white/60 hover:text-white transition" style="--tab-color:#22c55e;background:transparent;border:none;cursor:pointer;color:rgba(255,255,255,0.5);padding:10px 18px;font-family:'Rajdhani',sans-serif;font-weight:600;font-size:14px;" onclick="switchView('cards',this)">üÉè Fact sheets</button>
    </div>

    <!-- LEADERBOARD VIEW -->
    <div id="view-leaderboard" style="margin-top:20px;">
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:28px;max-width:580px;margin-left:auto;margin-right:auto;" id="podium"></div>
      <div style="background:#13131A;border:1px solid #1F1F28;border-radius:16px;overflow:hidden;position:relative;" class="scanlines">
        <div id="leaderboard-rows" style="position:relative;z-index:1;"></div>
      </div>
      <p style="color:rgba(255,255,255,0.15);font-size:11px;text-align:center;margin-top:12px;font-family:'Share Tech Mono',monospace;">* Estimated data ‚Äî Sources: growthepie.xyz, starkarcade ¬∑ Updated manually</p>
    </div>

    <!-- TABLE VIEW -->
    <div id="view-table" style="display:none;margin-top:20px;">
      <div style="overflow-x:auto;">
        <table style="width:100%;font-size:13px;min-width:800px;">
          <thead><tr style="color:rgba(255,255,255,0.3);font-size:11px;text-transform:uppercase;letter-spacing:1px;border-bottom:1px solid #1F1F28;">
            <th style="text-align:left;padding:12px 16px;font-weight:600;width:32px;"><input type="checkbox" style="opacity:0;width:16px;height:16px;"></th>
            <th style="text-align:left;padding:12px;font-weight:600;">Game</th>
            <th style="text-align:left;padding:12px;font-weight:600;">Type</th>
            <th style="text-align:left;padding:12px;font-weight:600;">On-chain</th>
            <th style="text-align:left;padding:12px;font-weight:600;">Token</th>
            <th style="text-align:left;padding:12px;font-weight:600;">Avg Gas</th>
            <th style="text-align:left;padding:12px;font-weight:600;">Wallet</th>
            <th style="text-align:left;padding:12px;font-weight:600;">Difficulty</th>
            <th style="text-align:left;padding:12px;font-weight:600;">F2P</th>
          </tr></thead>
          <tbody id="comparison-table-body"></tbody>
        </table>
      </div>
    </div>

    <!-- CARDS VIEW -->
    <div id="view-cards" style="display:none;margin-top:20px;">
      <div id="cards-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;"></div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ GUIDES + MARKETPLACE ‚îÄ‚îÄ -->
  <section style="margin-bottom:80px;">
    <div style="text-align:center;margin-bottom:36px;">
      <span class="section-badge" style="margin-bottom:12px;display:inline-flex;">üìö Resources</span>
      <h2 style="font-family:'Orbitron',sans-serif;font-size:clamp(24px,4vw,36px);font-weight:900;color:white;margin:0;">Guides & <span class="gradient-text">Marketplaces</span></h2>
    </div>
    <div style="display:flex;flex-direction:column;gap:20px;">
      <div style="display:grid;grid-template-columns:1fr auto;gap:24px;align-items:start;flex-wrap:wrap;">
        <div id="guides-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px;"></div>
        <div style="width:260px;background:#13131A;border:1px solid #1F1F28;border-radius:16px;padding:20px;flex-shrink:0;">
          <h3 style="font-family:'Orbitron',sans-serif;font-size:12px;font-weight:700;color:white;margin:0 0 16px;letter-spacing:1px;">MARKETPLACES</h3>
          <div style="display:flex;flex-direction:column;gap:8px;" id="marketplace-list">
            ${[
              {name:'Element Market',desc:'Starknet NFT marketplace',url:'https://element.market/starknet',img:''},
              {name:'Realms Market',desc:'Realms Eternum NFTs',url:'https://empire.realms.world/trade',img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThd7w4cX4MSjUtwcp5-Tqa--giLP0Qf5ABBw&s'},
              {name:'Loot Survivor Beasts',desc:'Beasts on Realms Empire',url:'https://empire.realms.world/trade/beasts',img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_TBm3f1UjODzwiPT6plEJDVhdRfmJKGwiNQ&s'},
              {name:'Survivor Exchange',desc:'Loot Survivor assets',url:'https://dev.survivor.exchange/',img:'https://pbs.twimg.com/profile_images/1827234376465121280/yAe5k3MN_400x400.png'},
              {name:'BeastDex',desc:'by spag',url:'https://beastdex.app/marketplace',img:'https://res.cloudinary.com/dtqbnob94/image/upload/v1771609532/Capture_d_e%CC%81cran_2026-02-20_a%CC%80_18.45.07_eicwfv.png'},
              {name:'Jokers of Neon',desc:'Cards marketplace',url:'https://play.cartridge.gg/game/jokers-of-neon/marketplace',img:'https://pbs.twimg.com/profile_images/1912136965727657984/OE1pA304_400x400.jpg'},
            ].map(m=>`<a href="${m.url}" target="_blank" style="display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;border:1px solid transparent;text-decoration:none;transition:all 0.2s;" onmouseenter="this.style.background='#1A1A24';this.style.borderColor='rgba(255,255,255,0.08)'" onmouseleave="this.style.background='transparent';this.style.borderColor='transparent'"><div style="width:32px;height:32px;border-radius:8px;background:#0A0A0F;border:1px solid #1F1F28;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden;">${m.img?`<img src="${m.img}" style="width:100%;height:100%;object-fit:cover;">`:`<span style="font-size:10px;font-weight:700;color:rgba(255,255,255,0.4);">M</span>`}</div><div><div style="font-size:12px;font-weight:600;color:rgba(255,255,255,0.8);">${m.name}</div><div style="font-size:10px;color:rgba(255,255,255,0.3);">${m.desc}</div></div></a>`).join('')}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ GAMERS TO FOLLOW ‚îÄ‚îÄ -->
  <section>
    <div style="text-align:center;margin-bottom:28px;">
      <span class="section-badge" style="margin-bottom:12px;display:inline-flex;">üë• Community</span>
      <h2 style="font-family:'Orbitron',sans-serif;font-size:24px;font-weight:800;color:white;margin:0;">Gamers to <span class="gradient-text">Follow</span></h2>
    </div>
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;">
      ${[
        {name:'Odin',handle:'odin_free'},
        {name:'Shadowfax',handle:'heyshadowfax'},
        {name:'Cumberlord',handle:'lordcumberlord'},
        {name:'Calc',handle:'Calcutat'},
        {name:'Legacy gg',handle:'Lgc_GG'},
        {name:'Tsubasa',handle:'tsubasaP2E'},
        {name:'Djizus',handle:'djizus_'},
        {name:'Cudan',handle:'Cudan_Svat'},
      ].map(u=>`<a href="https://x.com/${u.handle}" target="_blank" style="display:flex;align-items:center;gap:10px;padding:12px;background:#13131A;border:1px solid #1F1F28;border-radius:12px;text-decoration:none;transition:all 0.2s;" onmouseenter="this.style.borderColor='rgba(236,121,107,0.4)';this.style.background='#1A1A24'" onmouseleave="this.style.borderColor='#1F1F28';this.style.background='#13131A'"><img src="https://unavatar.io/x/${u.handle}" style="width:36px;height:36px;border-radius:50%;border:1px solid #1F1F28;flex-shrink:0;"><div><div style="font-weight:600;font-size:13px;color:white;">${u.name}</div><div style="font-size:11px;color:rgba(255,255,255,0.3);">@${u.handle}</div></div></a>`).join('')}
    </div>
  </section>
</div>

<!-- FLOATING COMPARE BAR -->
<div id="compare-bar">
  <div style="display:flex;align-items:center;gap:16px;padding:12px 20px;border-radius:16px;border:1px solid rgba(236,121,107,0.4);background:rgba(12,12,79,0.95);backdrop-filter:blur(16px);box-shadow:0 8px 40px rgba(236,121,107,0.25);">
    <div id="compare-names" style="display:flex;align-items:center;gap:8px;font-weight:600;font-size:13px;color:white;"></div>
    <button onclick="openCompareModal()" class="btn-primary" style="padding:8px 18px;font-size:10px;">Compare ‚Üí</button>
    <button onclick="clearCompare()" style="background:transparent;border:none;color:rgba(255,255,255,0.3);cursor:pointer;font-size:20px;line-height:1;padding:0;" onmouseenter="this.style.color='white'" onmouseleave="this.style.color='rgba(255,255,255,0.3)'">√ó</button>
  </div>
</div>

<!-- COMPARE MODAL -->
<div id="compare-modal">
  <div style="position:relative;width:100%;max-width:720px;background:#13131A;border:1px solid #1F1F28;border-radius:20px;overflow:hidden;">
    <div style="display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #1F1F28;">
      <h3 style="font-family:'Orbitron',sans-serif;font-weight:700;font-size:16px;color:white;margin:0;">Detailed Comparison</h3>
      <button onclick="closeCompareModal()" style="background:transparent;border:none;color:rgba(255,255,255,0.4);cursor:pointer;font-size:24px;line-height:1;" onmouseenter="this.style.color='white'" onmouseleave="this.style.color='rgba(255,255,255,0.4)'">√ó</button>
    </div>
    <div style="padding:24px;overflow-y:auto;max-height:70vh;"><div id="modal-content"></div></div>
  </div>
</div>

<script>
const GAMES_DATA = [
  {id:'lootsurvivor',name:'Loot Survivor',img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_TBm3f1UjODzwiPT6plEJDVhdRfmJKGwiNQ&s',url:'https://lootsurvivor.io',genre:'Roguelike',tags:['pve','arcade'],onchain:'Full',token:'$LORDS',gas:'~0.01‚Ç¨',wallet:['Argent X','Cartridge'],difficulty:3,f2p:false,txs:12000000,txsLabel:'12M+',users:1300,usersLabel:'1.3k',color:'#F4C542',trend:'+12%',trendUp:true,sparkline:[3,5,4,7,6,8,9,7,10,9,8,10],stats:{gameplay:90,community:80,earning:70,accessibility:55,onchain:100},desc:'Roguelike arcade game with permadeath. Fight monsters, collect legendary loot, climb the leaderboard.',tokenomics:'NFT Beasts ¬∑ $LORDS Rewards',launched:'June 2023'},
  {id:'blobarena',name:'BlobArena',img:'https://miro.medium.com/v2/resize:fit:1360/format:webp/0*K76-0V6jjzU2fjS0',url:'https://blobarena.xyz',genre:'Arcade PvP',tags:['pvp','arcade'],onchain:'Full',token:'N/A',gas:'~0.005‚Ç¨',wallet:['Argent X','Cartridge'],difficulty:2,f2p:true,txs:8200000,txsLabel:'8.2M',users:900,usersLabel:'900',color:'#EC796B',trend:'+28%',trendUp:true,sparkline:[2,3,4,3,5,6,7,8,9,9,10,10],stats:{gameplay:85,community:70,earning:40,accessibility:90,onchain:95},desc:'Fast-paced battle arena with colorful blobs. Master unique abilities and dominate the leaderboards.',tokenomics:'No tokens ¬∑ NFT Orbs coming soon',launched:'2024'},
  {id:'jokersofneon',name:'Jokers of Neon',img:'https://pbs.twimg.com/profile_images/1912136965727657984/OE1pA304_400x400.jpg',url:'https://jokersofneon.com',genre:'Card Game',tags:['card','pvp'],onchain:'Partial',token:'N/A',gas:'~0.02‚Ç¨',wallet:['Cartridge'],difficulty:3,f2p:false,txs:3100000,txsLabel:'3.1M',users:600,usersLabel:'600',color:'#a78bfa',trend:'+ATH',trendUp:true,sparkline:[1,2,2,3,4,5,5,7,8,9,10,10],stats:{gameplay:95,community:75,earning:60,accessibility:65,onchain:75},desc:'Cyberpunk poker with NFT cards. High-stakes tournaments in a neon atmosphere.',tokenomics:'Tradable NFT cards ¬∑ Prize pools',launched:'2024'},
  {id:'realms',name:'Realms Blitz',img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThd7w4cX4MSjUtwcp5-Tqa--giLP0Qf5ABBw&s',url:'https://eternum.realms.world',genre:'Strategy MMO',tags:['strategy','pvp'],onchain:'Full',token:'$LORDS',gas:'~0.03‚Ç¨',wallet:['Argent X','Cartridge'],difficulty:5,f2p:false,txs:2800000,txsLabel:'2.8M',users:500,usersLabel:'500',color:'#34d399',trend:'+8%',trendUp:true,sparkline:[5,6,5,6,7,6,7,7,8,8,9,8],stats:{gameplay:80,community:90,earning:85,accessibility:40,onchain:100},desc:'Fully on-chain strategy MMO. Build your kingdom, manage resources, dominate the battlefield.',tokenomics:'$LORDS ¬∑ Realms NFT ¬∑ Resources',launched:'2023'},
  {id:'ponziland',name:'PonziLand',img:'https://play.ponzi.land/logo.png',url:'https://play.ponzi.land',genre:'Strategy',tags:['strategy'],onchain:'Full',token:'$STRK',gas:'~0.01‚Ç¨',wallet:['Argent X','Cartridge'],difficulty:4,f2p:false,txs:1500000,txsLabel:'1.5M',users:400,usersLabel:'400',color:'#f97316',trend:'+Ref',trendUp:true,sparkline:[2,2,3,3,4,5,6,6,7,8,9,10],stats:{gameplay:70,community:65,earning:95,accessibility:55,onchain:100},desc:'Economic strategy game: buy and manage virtual land, optimize taxes and liquidity.',tokenomics:'Multi-token ¬∑ 20% referral ¬∑ Land NFT',launched:'2024'},
  {id:'summit',name:'Summit',img:'https://pbs.twimg.com/media/HBIRQPsakAEvNuO?format=png&name=medium',url:'https://www.summit.game',genre:'Battle MMO',tags:['pvp','strategy'],onchain:'Full',token:'$SURVIVOR',gas:'Very low',wallet:['Cartridge'],difficulty:2,f2p:true,txs:900000,txsLabel:'900k',users:700,usersLabel:'700',color:'#60a5fa',trend:'üî• New',trendUp:true,sparkline:[0,0,0,0,0,0,0,1,4,8,10,10],stats:{gameplay:80,community:85,earning:80,accessibility:85,onchain:95},desc:'King-of-the-hill MMO. Your Beasts NFTs battle to dominate the summit and farm $SURVIVOR.',tokenomics:'$SURVIVOR ¬∑ Beasts NFT',launched:'Feb 2026'},
  {id:'darkshuffle',name:'Dark Shuffle',img:'https://pbs.twimg.com/card_img/2021183745525432320/6ZKNucYn?format=png&name=large',url:'https://darkshuffle.io',genre:'Deck-building',tags:['card','pve'],onchain:'Full',token:'N/A',gas:'~0.01‚Ç¨',wallet:['Argent X','Cartridge'],difficulty:3,f2p:false,txs:700000,txsLabel:'700k',users:300,usersLabel:'300',color:'#c084fc',trend:'+5%',trendUp:true,sparkline:[3,3,4,4,5,5,6,6,7,7,8,8],stats:{gameplay:88,community:60,earning:45,accessibility:70,onchain:95},desc:'Deck-building roguelike. Explore procedural maps and battle monsters with strategic cards.',tokenomics:'NFT cards ¬∑ No native token',launched:'2024'},
  {id:'zkube',name:'zKube',img:'https://pbs.twimg.com/profile_images/1844012375462068224/S0SgtVy7_400x400.png',url:'https://app.zkube.xyz',genre:'Puzzle',tags:['pve','arcade'],onchain:'Full',token:'N/A',gas:'~0.005‚Ç¨',wallet:['Argent X','Cartridge'],difficulty:1,f2p:true,txs:400000,txsLabel:'400k',users:200,usersLabel:'200',color:'#22d3ee',trend:'Stable',trendUp:false,sparkline:[5,5,6,5,6,6,6,7,6,7,7,7],stats:{gameplay:72,community:50,earning:30,accessibility:100,onchain:90},desc:'On-chain Tetris-like puzzle game. Slide blocks horizontally to form and clear lines.',tokenomics:'No token ¬∑ Competitive score',launched:'2024'},
];

let _filter='all',_sortKey='txs',_sortDir=-1,_compareSet=new Set();

function getFiltered(){let g=[...GAMES_DATA];if(_filter!=='all')g=g.filter(x=>x.tags.includes(_filter));g.sort((a,b)=>(a[_sortKey]-b[_sortKey])*_sortDir);return g;}

function renderLeaderboard(){
  const c=document.getElementById('leaderboard-rows');
  const g=getFiltered();
  const maxT=Math.max(...GAMES_DATA.map(x=>x.txs));
  // Podium top 3
  const top3=[...GAMES_DATA].sort((a,b)=>b.txs-a.txs).slice(0,3);
  const podiumOrder=[top3[1],top3[0],top3[2]];
  const podiumColors=['#C0C0C0','#F4C542','#CD7F32'];
  const podiumRanks=[2,1,3];
  document.getElementById('podium').innerHTML=podiumOrder.map((gm,i)=>`<div style="display:flex;flex-direction:column;align-items:center;${i===1?'':'padding-top:20px;'}"><div style="position:relative;margin-bottom:8px;"><img src="${gm.img}" style="width:${i===1?72:56}px;height:${i===1?72:56}px;border-radius:12px;object-fit:cover;border:2px solid ${podiumColors[i]};${i===1?'box-shadow:0 0 20px rgba(244,197,66,0.4);':''}"><span style="position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;background:${podiumColors[i]};color:#000;">${podiumRanks[i]}</span></div><div style="width:100%;border-radius:12px 12px 0 0;padding:16px 8px 12px;text-align:center;background:${podiumColors[i]}12;border:1px solid ${podiumColors[i]}25;border-bottom:none;min-height:${i===1?80:70}px;margin-top:12px;"><p style="color:white;font-size:11px;font-weight:700;margin:0 0 4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${gm.name}</p><p style="color:${podiumColors[i]};font-family:'Share Tech Mono',monospace;font-size:11px;margin:0;">${gm.txsLabel} tx</p></div></div>`).join('');

  c.innerHTML=g.map((gm,i)=>{
    const bw=Math.round((gm.txs/maxT)*100);
    const sparks=gm.sparkline.map((v,si)=>{const mx=Math.max(...gm.sparkline);const h=Math.round((v/mx)*18)+2;const cls=v===mx?'peak':(v>mx*0.6?'high':'');return `<div class="spark-bar ${cls}" style="height:${h}px;${cls==='peak'?`background:${gm.color};`:''}" ></div>`;}).join('');
    const dots=Array.from({length:5},(_,j)=>`<span style="width:6px;height:6px;border-radius:50%;background:${j<gm.difficulty?gm.color:'rgba(255,255,255,0.1)'};display:inline-block;"></span>`).join('');
    const chk=_compareSet.has(gm.id);
    return `<div class="game-row" style="display:grid;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(31,31,40,0.5);${i===g.length-1?'border-bottom:none;':''}" data-id="${gm.id}" style="grid-template-columns:40px 1fr 100px 120px 100px 80px;gap:12px;">
      <div style="display:flex;align-items:center;gap:8px;"><div class="compare-toggle ${chk?'checked':''}" onclick="toggleCompare('${gm.id}',event)">${chk?'<svg width="10" height="10" viewBox="0 0 10 10" fill="white"><path d="M1.5 5l2.5 2.5 4.5-4.5" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round"/></svg>':''}</div><span style="font-family:'Share Tech Mono',monospace;color:rgba(255,255,255,0.3);font-size:13px;width:20px;text-align:center;">${i+1}</span></div>
      <div style="display:flex;align-items:center;gap:12px;min-width:0;"><img src="${gm.img}" style="width:38px;height:38px;border-radius:8px;object-fit:cover;flex-shrink:0;border:1px solid ${gm.color}33;"><div style="min-width:0;"><a href="${gm.url}" target="_blank" style="font-weight:700;font-size:14px;color:white;text-decoration:none;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;" onmouseenter="this.style.color='#EC796B'" onmouseleave="this.style.color='white'">${gm.name}</a><div style="display:flex;gap:4px;margin-top:3px;"><span class="badge-pill" style="background:${gm.color}18;color:${gm.color};border:1px solid ${gm.color}30;">${gm.genre}</span>${gm.f2p?'<span class="badge-pill" style="background:rgba(34,197,94,0.1);color:#22c55e;border:1px solid rgba(34,197,94,0.25);">F2P</span>':''}</div></div></div>
      <div class="hide-mobile"><div style="font-family:'Share Tech Mono',monospace;color:white;font-size:13px;margin-bottom:4px;">${gm.txsLabel}</div><div style="background:rgba(255,255,255,0.06);border-radius:3px;height:4px;overflow:hidden;"><div class="rank-bar" style="--bar-w:${bw}%;background:${gm.color};"></div></div></div>
      <div class="hide-mobile"><div class="sparkline">${sparks}</div></div>
      <div class="hide-mobile"><div style="font-family:'Share Tech Mono',monospace;color:rgba(255,255,255,0.6);font-size:13px;">${gm.usersLabel}</div><div style="display:flex;gap:2px;margin-top:4px;">${dots}</div></div>
      <div><span style="font-family:'Share Tech Mono',monospace;font-size:11px;font-weight:700;color:${gm.trendUp?'#22c55e':'#94a3b8'};">${gm.trend}</span></div>
    </div>`;
  }).join('');
  requestAnimationFrame(()=>requestAnimationFrame(()=>document.querySelectorAll('.rank-bar').forEach(b=>b.classList.add('animated'))));
}

function renderTable(){
  const body=document.getElementById('comparison-table-body');
  const g=getFiltered();
  const ocColor={'Full':'#22c55e','Partial':'#f97316'};
  const diffLabel=['','Beginner','Easy','Medium','Advanced','Expert'];
  body.innerHTML=g.map(gm=>{
    const chk=_compareSet.has(gm.id);
    return `<tr style="border-bottom:1px solid rgba(31,31,40,0.5);" onmouseenter="this.style.background='rgba(255,255,255,0.02)'" onmouseleave="this.style.background='transparent'">
      <td style="padding:12px 16px;"><div class="compare-toggle ${chk?'checked':''}" onclick="toggleCompare('${gm.id}',event)">${chk?'<svg width="10" height="10" viewBox="0 0 10 10" fill="white"><path d="M1.5 5l2.5 2.5 4.5-4.5" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round"/></svg>':''}</div></td>
      <td style="padding:12px;"><div style="display:flex;align-items:center;gap:8px;"><img src="${gm.img}" style="width:32px;height:32px;border-radius:8px;object-fit:cover;flex-shrink:0;"><a href="${gm.url}" target="_blank" style="color:white;font-weight:600;font-size:13px;text-decoration:none;" onmouseenter="this.style.color='#EC796B'" onmouseleave="this.style.color='white'">${gm.name}</a></div></td>
      <td style="padding:12px;"><span class="badge-pill" style="background:${gm.color}18;color:${gm.color};border:1px solid ${gm.color}30;">${gm.genre}</span></td>
      <td style="padding:12px;"><span class="badge-pill" style="background:${(ocColor[gm.onchain]||'#22c55e')}18;color:${ocColor[gm.onchain]||'#22c55e'};border:1px solid ${ocColor[gm.onchain]||'#22c55e'}30;">${gm.onchain==='Full'?'‚õìÔ∏è':'‚ö°'} ${gm.onchain}</span></td>
      <td style="padding:12px;font-family:'Share Tech Mono',monospace;color:rgba(255,255,255,0.5);font-size:12px;">${gm.token}</td>
      <td style="padding:12px;font-family:'Share Tech Mono',monospace;color:rgba(255,255,255,0.5);font-size:12px;">${gm.gas}</td>
      <td style="padding:12px;">${gm.wallet.map(w=>`<span class="badge-pill" style="background:rgba(255,255,255,0.05);color:rgba(255,255,255,0.4);border:1px solid rgba(255,255,255,0.08);">${w}</span>`).join(' ')}</td>
      <td style="padding:12px;color:rgba(255,255,255,0.5);font-size:12px;">${diffLabel[gm.difficulty]||''}</td>
      <td style="padding:12px;">${gm.f2p?'<span class="badge-pill" style="background:rgba(34,197,94,0.1);color:#22c55e;border:1px solid rgba(34,197,94,0.25);">‚úì Yes</span>':'<span style="color:rgba(255,255,255,0.2);font-size:12px;">No</span>'}</td>
    </tr>`;
  }).join('');
}

function renderCards(){
  const grid=document.getElementById('cards-grid');
  const g=getFiltered();
  const sKeys=['gameplay','community','earning','accessibility','onchain'];
  const sLabels={gameplay:'Gameplay',community:'Community',earning:'Earning',accessibility:'Accessibility',onchain:'On-chain'};
  grid.innerHTML=g.map(gm=>{
    const bars=sKeys.map(k=>`<div style="margin-bottom:6px;"><div style="display:flex;justify-content:space-between;margin-bottom:2px;"><span style="font-size:10px;color:rgba(255,255,255,0.35);">${sLabels[k]}</span><span style="font-family:'Share Tech Mono',monospace;font-size:10px;color:${gm.color};">${gm.stats[k]}</span></div><div style="background:rgba(255,255,255,0.06);border-radius:2px;height:3px;"><div style="width:${gm.stats[k]}%;height:3px;border-radius:2px;background:${gm.color};opacity:0.8;"></div></div></div>`).join('');
    const stars=Array.from({length:5},(_,i)=>`<span style="color:${i<gm.difficulty?gm.color:'rgba(255,255,255,0.1)'};">‚òÖ</span>`).join('');
    const chk=_compareSet.has(gm.id);
    return `<div style="background:#13131A;border:1px solid ${gm.color}25;border-radius:16px;overflow:hidden;transition:all 0.3s;" onmouseenter="this.style.borderColor='${gm.color}55'" onmouseleave="this.style.borderColor='${gm.color}25'">
      <div style="position:relative;height:120px;overflow:hidden;"><img src="${gm.img}" style="width:100%;height:100%;object-fit:cover;filter:saturate(0.6);transition:transform 0.5s;" onmouseenter="this.style.transform='scale(1.05)'" onmouseleave="this.style.transform='scale(1)'"><div style="position:absolute;inset:0;background:linear-gradient(to bottom,transparent 30%,rgba(19,19,26,0.95));"></div><div style="position:absolute;bottom:0;left:0;right:0;padding:12px;display:flex;justify-content:space-between;align-items:flex-end;"><div><h4 style="font-weight:700;font-size:13px;color:white;margin:0 0 3px;">${gm.name}</h4><span class="badge-pill" style="background:${gm.color}20;color:${gm.color};border:1px solid ${gm.color}30;font-size:9px;">${gm.genre}</span></div><div style="text-align:right;"><div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:${gm.color};font-weight:700;">${gm.txsLabel} tx</div></div></div></div>
      <div style="padding:14px;"><p style="color:rgba(255,255,255,0.45);font-size:11px;line-height:1.6;margin:0 0 12px;">${gm.desc}</p>${bars}<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;text-align:center;padding-top:10px;border-top:1px solid #1F1F28;margin-top:8px;"><div><div style="font-size:9px;color:rgba(255,255,255,0.25);letter-spacing:1px;text-transform:uppercase;margin-bottom:2px;">Diff</div><div style="font-size:11px;">${stars}</div></div><div><div style="font-size:9px;color:rgba(255,255,255,0.25);letter-spacing:1px;text-transform:uppercase;margin-bottom:2px;">Gas</div><div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:rgba(255,255,255,0.6);">${gm.gas}</div></div><div><div style="font-size:9px;color:rgba(255,255,255,0.25);letter-spacing:1px;text-transform:uppercase;margin-bottom:2px;">F2P</div><div style="font-size:11px;color:${gm.f2p?'#22c55e':'rgba(255,255,255,0.2)'};">${gm.f2p?'‚úì':'No'}</div></div></div>
      <div style="display:flex;gap:8px;margin-top:10px;"><a href="${gm.url}" target="_blank" style="flex:1;text-align:center;padding:8px;border-radius:8px;font-size:11px;font-weight:700;text-decoration:none;background:${gm.color}20;border:1px solid ${gm.color}40;color:${gm.color};transition:background 0.2s;" onmouseenter="this.style.background='${gm.color}40'" onmouseleave="this.style.background='${gm.color}20'">Play ‚Üí</a><button onclick="toggleCompare('${gm.id}',event)" style="padding:8px 12px;border-radius:8px;font-size:11px;border:1px solid;cursor:pointer;transition:all 0.2s;background:${chk?'rgba(236,121,107,0.2)':'transparent'};border-color:${chk?'#EC796B':'rgba(255,255,255,0.1)'};color:${chk?'#EC796B':'rgba(255,255,255,0.3)'};" id="card-cmp-${gm.id}">${chk?'‚úì Sel':'Compare'}</button></div></div>
    </div>`;
  }).join('');
}

function toggleCompare(id,e){if(e)e.stopPropagation();if(_compareSet.has(id)){_compareSet.delete(id);}else{if(_compareSet.size>=2)_compareSet.delete([..._compareSet][0]);_compareSet.add(id);}refreshAll();updateCompareBar();}
function clearCompare(){_compareSet.clear();refreshAll();updateCompareBar();}
function updateCompareBar(){const bar=document.getElementById('compare-bar');const names=document.getElementById('compare-names');if(_compareSet.size>0){bar.classList.add('visible');const gs=[..._compareSet].map(id=>GAMES_DATA.find(g=>g.id===id));names.innerHTML=gs.map(g=>`<div style="display:flex;align-items:center;gap:6px;"><img src="${g.img}" style="width:20px;height:20px;border-radius:4px;object-fit:cover;"><span style="color:${g.color};">${g.name}</span></div>`).join('<span style="color:rgba(255,255,255,0.2);">vs</span>');}else{bar.classList.remove('visible');}}
function openCompareModal(){if(_compareSet.size<2)return;const[id1,id2]=[..._compareSet];const g1=GAMES_DATA.find(g=>g.id===id1),g2=GAMES_DATA.find(g=>g.id===id2);const sK=['gameplay','community','earning','accessibility','onchain'];const sL={gameplay:'Gameplay',community:'Community',earning:'Earning',accessibility:'Accessibility',onchain:'On-chain'};const sRows=sK.map(k=>{const v1=g1.stats[k],v2=g2.stats[k],w=v1>v2?1:v2>v1?2:0;return `<div style="display:grid;grid-template-columns:1fr 80px 1fr;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.04);"><div style="text-align:right;"><div style="height:6px;border-radius:3px;overflow:hidden;margin-bottom:4px;"><div style="width:${v1}%;height:100%;background:${g1.color};margin-left:auto;border-radius:3px;"></div></div><span style="font-family:'Share Tech Mono',monospace;font-size:14px;color:${w===1?g1.color:'rgba(255,255,255,0.4)'};">${v1}</span></div><div style="text-align:center;font-size:11px;color:rgba(255,255,255,0.3);">${sL[k]}</div><div><div style="height:6px;border-radius:3px;overflow:hidden;margin-bottom:4px;"><div style="width:${v2}%;height:100%;background:${g2.color};border-radius:3px;"></div></div><span style="font-family:'Share Tech Mono',monospace;font-size:14px;color:${w===2?g2.color:'rgba(255,255,255,0.4)'};">${v2}</span></div></div>`;}).join('');const mRows=[['Type',g1.genre,g2.genre],['Token',g1.token,g2.token],['Gas',g1.gas,g2.gas],['F2P',g1.f2p?'‚úì Yes':'No',g2.f2p?'‚úì Yes':'No'],['On-chain',g1.onchain,g2.onchain],['Launch',g1.launched,g2.launched]].map(([l,v1,v2])=>`<div style="display:grid;grid-template-columns:1fr auto 1fr;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.04);font-size:13px;"><div style="text-align:right;color:rgba(255,255,255,0.65);padding-right:16px;">${v1}</div><div style="text-align:center;color:rgba(255,255,255,0.25);font-size:11px;white-space:nowrap;">${l}</div><div style="text-align:left;color:rgba(255,255,255,0.65);padding-left:16px;">${v2}</div></div>`).join('');document.getElementById('modal-content').innerHTML=`<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:20px;">${[g1,g2].map(g=>`<div style="display:flex;align-items:center;gap:12px;padding:16px;border-radius:12px;background:${g.color}10;border:1px solid ${g.color}25;"><img src="${g.img}" style="width:44px;height:44px;border-radius:10px;object-fit:cover;"><div><h4 style="font-weight:700;color:white;margin:0 0 4px;">${g.name}</h4><span class="badge-pill" style="background:${g.color}20;color:${g.color};border:1px solid ${g.color}30;">${g.genre}</span></div></div>`).join('')}</div><h5 style="color:rgba(255,255,255,0.3);font-size:10px;letter-spacing:2px;text-transform:uppercase;margin-bottom:10px;">SCORES</h5><div style="background:#13131A;border:1px solid #1F1F28;border-radius:12px;padding:12px 16px;margin-bottom:20px;">${sRows}</div><h5 style="color:rgba(255,255,255,0.3);font-size:10px;letter-spacing:2px;text-transform:uppercase;margin-bottom:10px;">FEATURES</h5><div style="background:#13131A;border:1px solid #1F1F28;border-radius:12px;padding:0 16px;margin-bottom:20px;">${mRows}</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">${[g1,g2].map(g=>{const tot=Object.values(g.stats).reduce((a,b)=>a+b,0);return`<div style="padding:16px;text-align:center;border-radius:12px;background:${g.color}08;border:1px solid ${g.color}20;"><div style="font-family:'Orbitron',sans-serif;font-size:24px;font-weight:900;color:${g.color};">${tot}</div><div style="color:rgba(255,255,255,0.3);font-size:11px;margin-top:4px;">Total score</div></div>`;}).join('')}</div>`;document.getElementById('compare-modal').classList.add('open');}
function closeCompareModal(){document.getElementById('compare-modal').classList.remove('open');}
function switchView(view,tab){['leaderboard','table','cards'].forEach(v=>{const el=document.getElementById('view-'+v);if(el)el.style.display=v===view?'block':'none';});document.querySelectorAll('.metrics-tab').forEach(t=>t.classList.remove('active'));tab.classList.add('active');refreshView(view);}
function filterGames(tag,btn){_filter=tag;document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');refreshAll();}
function refreshAll(){renderLeaderboard();renderTable();renderCards();}
function refreshView(v){if(v==='leaderboard')renderLeaderboard();else if(v==='table')renderTable();else renderCards();}
document.getElementById('compare-modal').addEventListener('click',function(e){if(e.target===this)closeCompareModal();});

// Games grid
loadSiteData().then(D=>{
  const gGrid=document.getElementById('games-grid');
  const games=(D.games||[]).filter(g=>g.active);
  gGrid.innerHTML=games.map(g=>`<a href="${g.url}" target="_blank" class="game-card-hover" style="text-decoration:none;display:block;"><div style="height:200px;overflow:hidden;position:relative;"><img src="${g.img}" style="width:100%;height:100%;object-fit:cover;transition:transform 0.5s;"><div style="position:absolute;inset:0;background:linear-gradient(to top,rgba(10,10,15,0.9),transparent 60%);"></div>${g.featured?'<div style="position:absolute;top:10px;left:10px;padding:2px 8px;background:rgba(236,121,107,0.9);border-radius:4px;font-size:9px;font-weight:700;color:white;font-family:Orbitron,sans-serif;">‚≠ê FEATURED</div>':''}<div style="position:absolute;bottom:0;left:0;right:0;padding:12px 14px;"><h4 style="font-family:Orbitron,sans-serif;font-size:12px;font-weight:700;color:white;margin:0 0 5px;">${g.name}</h4><div style="display:flex;flex-wrap:wrap;gap:3px;">${(g.tags||[]).slice(0,2).map(t=>`<span style="padding:1px 6px;border-radius:3px;background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.6);font-size:9px;font-weight:600;">${t}</span>`).join('')}</div></div></div><div style="padding:12px 14px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #1F1F28;"><p style="color:rgba(255,255,255,0.4);font-size:11px;margin:0;line-height:1.5;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;">${g.desc}</p></div></a>`).join('');

  const gGuides=document.getElementById('guides-grid');
  const guides=(D.guides||[]).filter(g=>g.active);
  gGuides.innerHTML=guides.map(g=>`<div style="background:#13131A;border:1px solid #1F1F28;border-radius:12px;padding:14px;transition:border-color 0.2s;" onmouseenter="this.style.borderColor='rgba(236,121,107,0.3)'" onmouseleave="this.style.borderColor='#1F1F28'"><div style="display:flex;align-items:flex-start;gap:12px;">${g.img?`<img src="${g.img}" style="width:52px;height:52px;border-radius:10px;object-fit:cover;flex-shrink:0;">`:''}<div style="flex:1;min-width:0;"><h4 style="font-weight:700;color:white;font-size:13px;margin:0 0 8px;">${g.game}</h4><div style="display:flex;flex-wrap:wrap;gap:6px;">${g.links.map(l=>`<a href="${l.url}" target="_blank" style="display:flex;align-items:center;gap:4px;color:rgba(255,255,255,0.5);font-size:12px;text-decoration:none;transition:color 0.2s;" onmouseenter="this.style.color='#EC796B'" onmouseleave="this.style.color='rgba(255,255,255,0.5)'">${l.emoji||'üìñ'} <span style="text-decoration:underline;">${l.label}</span></a>`).join('<span style="color:rgba(255,255,255,0.15);">¬∑</span>')}</div></div></div></div>`).join('');
});

renderLeaderboard(); renderTable(); renderCards();
</script>
</body>
</html>
